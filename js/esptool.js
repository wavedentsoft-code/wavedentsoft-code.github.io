class A extends Error{}
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function t(A){let t=A.length;for(;--t>=0;)A[t]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),s=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Array(576);t(r);const n=new Array(60);t(n);const h=new Array(512);t(h);const o=new Array(256);t(o);const g=new Array(29);t(g);const _=new Array(30);function E(A,t,e,i,s){this.static_tree=A,this.extra_bits=t,this.extra_base=e,this.elems=i,this.max_length=s,this.has_stree=A&&A.length}let I,w,l;function C(A,t){this.dyn_tree=A,this.max_code=0,this.stat_desc=t}t(_);const c=A=>A<256?h[A]:h[256+(A>>>7)],d=(A,t)=>{A.pending_buf[A.pending++]=255&t,A.pending_buf[A.pending++]=t>>>8&255},B=(A,t,e)=>{A.bi_valid>16-e?(A.bi_buf|=t<<A.bi_valid&65535,d(A,A.bi_buf),A.bi_buf=t>>16-A.bi_valid,A.bi_valid+=e-16):(A.bi_buf|=t<<A.bi_valid&65535,A.bi_valid+=e)},f=(A,t,e)=>{B(A,e[2*t],e[2*t+1])},D=(A,t)=>{let e=0;do{e|=1&A,A>>>=1,e<<=1}while(--t>0);return e>>>1},Q=(A,t,e)=>{const i=new Array(16);let s,a,r=0;for(s=1;s<=15;s++)r=r+e[s-1]<<1,i[s]=r;for(a=0;a<=t;a++){let t=A[2*a+1];0!==t&&(A[2*a]=D(i[t]++,t))}},M=A=>{let t;for(t=0;t<286;t++)A.dyn_ltree[2*t]=0;for(t=0;t<30;t++)A.dyn_dtree[2*t]=0;for(t=0;t<19;t++)A.bl_tree[2*t]=0;A.dyn_ltree[512]=1,A.opt_len=A.static_len=0,A.sym_next=A.matches=0},S=A=>{A.bi_valid>8?d(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0},u=(A,t,e,i)=>{const s=2*t,a=2*e;return A[s]<A[a]||A[s]===A[a]&&i[t]<=i[e]},p=(A,t,e)=>{const i=A.heap[e];let s=e<<1;for(;s<=A.heap_len&&(s<A.heap_len&&u(t,A.heap[s+1],A.heap[s],A.depth)&&s++,!u(t,i,A.heap[s],A.depth));)A.heap[e]=A.heap[s],e=s,s<<=1;A.heap[e]=i},m=(A,t,s)=>{let a,r,n,h,E=0;if(0!==A.sym_next)do{a=255&A.pending_buf[A.sym_buf+E++],a+=(255&A.pending_buf[A.sym_buf+E++])<<8,r=A.pending_buf[A.sym_buf+E++],0===a?f(A,r,t):(n=o[r],f(A,n+256+1,t),h=e[n],0!==h&&(r-=g[n],B(A,r,h)),a--,n=c(a),f(A,n,s),h=i[n],0!==h&&(a-=_[n],B(A,a,h)))}while(E<A.sym_next);f(A,256,t)},y=(A,t)=>{const e=t.dyn_tree,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems;let r,n,h,o=-1;for(A.heap_len=0,A.heap_max=573,r=0;r<a;r++)0!==e[2*r]?(A.heap[++A.heap_len]=o=r,A.depth[r]=0):e[2*r+1]=0;for(;A.heap_len<2;)h=A.heap[++A.heap_len]=o<2?++o:0,e[2*h]=1,A.depth[h]=0,A.opt_len--,s&&(A.static_len-=i[2*h+1]);for(t.max_code=o,r=A.heap_len>>1;r>=1;r--)p(A,e,r);h=a;do{r=A.heap[1],A.heap[1]=A.heap[A.heap_len--],p(A,e,1),n=A.heap[1],A.heap[--A.heap_max]=r,A.heap[--A.heap_max]=n,e[2*h]=e[2*r]+e[2*n],A.depth[h]=(A.depth[r]>=A.depth[n]?A.depth[r]:A.depth[n])+1,e[2*r+1]=e[2*n+1]=h,A.heap[1]=h++,p(A,e,1)}while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],((A,t)=>{const e=t.dyn_tree,i=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,r=t.stat_desc.extra_bits,n=t.stat_desc.extra_base,h=t.stat_desc.max_length;let o,g,_,E,I,w,l=0;for(E=0;E<=15;E++)A.bl_count[E]=0;for(e[2*A.heap[A.heap_max]+1]=0,o=A.heap_max+1;o<573;o++)g=A.heap[o],E=e[2*e[2*g+1]+1]+1,E>h&&(E=h,l++),e[2*g+1]=E,g>i||(A.bl_count[E]++,I=0,g>=n&&(I=r[g-n]),w=e[2*g],A.opt_len+=w*(E+I),a&&(A.static_len+=w*(s[2*g+1]+I)));if(0!==l){do{for(E=h-1;0===A.bl_count[E];)E--;A.bl_count[E]--,A.bl_count[E+1]+=2,A.bl_count[h]--,l-=2}while(l>0);for(E=h;0!==E;E--)for(g=A.bl_count[E];0!==g;)_=A.heap[--o],_>i||(e[2*_+1]!==E&&(A.opt_len+=(E-e[2*_+1])*e[2*_],e[2*_+1]=E),g--)}})(A,t),Q(e,o,A.bl_count)},k=(A,t,e)=>{let i,s,a=-1,r=t[1],n=0,h=7,o=4;for(0===r&&(h=138,o=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)s=r,r=t[2*(i+1)+1],++n<h&&s===r||(n<o?A.bl_tree[2*s]+=n:0!==s?(s!==a&&A.bl_tree[2*s]++,A.bl_tree[32]++):n<=10?A.bl_tree[34]++:A.bl_tree[36]++,n=0,a=s,0===r?(h=138,o=3):s===r?(h=6,o=3):(h=7,o=4))},R=(A,t,e)=>{let i,s,a=-1,r=t[1],n=0,h=7,o=4;for(0===r&&(h=138,o=3),i=0;i<=e;i++)if(s=r,r=t[2*(i+1)+1],!(++n<h&&s===r)){if(n<o)do{f(A,s,A.bl_tree)}while(0!=--n);else 0!==s?(s!==a&&(f(A,s,A.bl_tree),n--),f(A,16,A.bl_tree),B(A,n-3,2)):n<=10?(f(A,17,A.bl_tree),B(A,n-3,3)):(f(A,18,A.bl_tree),B(A,n-11,7));n=0,a=s,0===r?(h=138,o=3):s===r?(h=6,o=3):(h=7,o=4)}};let b=!1;const H=(A,t,e,i)=>{B(A,0+(i?1:0),3),S(A),d(A,e),d(A,~e),e&&A.pending_buf.set(A.window.subarray(t,t+e),A.pending),A.pending+=e};var F=(A,t,e,i)=>{let s,h,o=0;A.level>0?(2===A.strm.data_type&&(A.strm.data_type=(A=>{let t,e=4093624447;for(t=0;t<=31;t++,e>>>=1)if(1&e&&0!==A.dyn_ltree[2*t])return 0;if(0!==A.dyn_ltree[18]||0!==A.dyn_ltree[20]||0!==A.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==A.dyn_ltree[2*t])return 1;return 0})(A)),y(A,A.l_desc),y(A,A.d_desc),o=(A=>{let t;for(k(A,A.dyn_ltree,A.l_desc.max_code),k(A,A.dyn_dtree,A.d_desc.max_code),y(A,A.bl_desc),t=18;t>=3&&0===A.bl_tree[2*a[t]+1];t--);return A.opt_len+=3*(t+1)+5+5+4,t})(A),s=A.opt_len+3+7>>>3,h=A.static_len+3+7>>>3,h<=s&&(s=h)):s=h=e+5,e+4<=s&&-1!==t?H(A,t,e,i):4===A.strategy||h===s?(B(A,2+(i?1:0),3),m(A,r,n)):(B(A,4+(i?1:0),3),((A,t,e,i)=>{let s;for(B(A,t-257,5),B(A,e-1,5),B(A,i-4,4),s=0;s<i;s++)B(A,A.bl_tree[2*a[s]+1],3);R(A,A.dyn_ltree,t-1),R(A,A.dyn_dtree,e-1)})(A,A.l_desc.max_code+1,A.d_desc.max_code+1,o+1),m(A,A.dyn_ltree,A.dyn_dtree)),M(A),i&&S(A)},G={_tr_init:A=>{b||((()=>{let A,t,a,C,c;const d=new Array(16);for(a=0,C=0;C<28;C++)for(g[C]=a,A=0;A<1<<e[C];A++)o[a++]=C;for(o[a-1]=C,c=0,C=0;C<16;C++)for(_[C]=c,A=0;A<1<<i[C];A++)h[c++]=C;for(c>>=7;C<30;C++)for(_[C]=c<<7,A=0;A<1<<i[C]-7;A++)h[256+c++]=C;for(t=0;t<=15;t++)d[t]=0;for(A=0;A<=143;)r[2*A+1]=8,A++,d[8]++;for(;A<=255;)r[2*A+1]=9,A++,d[9]++;for(;A<=279;)r[2*A+1]=7,A++,d[7]++;for(;A<=287;)r[2*A+1]=8,A++,d[8]++;for(Q(r,287,d),A=0;A<30;A++)n[2*A+1]=5,n[2*A]=D(A,5);I=new E(r,e,257,286,15),w=new E(n,i,0,30,15),l=new E(new Array(0),s,0,19,7)})(),b=!0),A.l_desc=new C(A.dyn_ltree,I),A.d_desc=new C(A.dyn_dtree,w),A.bl_desc=new C(A.bl_tree,l),A.bi_buf=0,A.bi_valid=0,M(A)},_tr_stored_block:H,_tr_flush_block:F,_tr_tally:(A,t,e)=>(A.pending_buf[A.sym_buf+A.sym_next++]=t,A.pending_buf[A.sym_buf+A.sym_next++]=t>>8,A.pending_buf[A.sym_buf+A.sym_next++]=e,0===t?A.dyn_ltree[2*e]++:(A.matches++,t--,A.dyn_ltree[2*(o[e]+256+1)]++,A.dyn_dtree[2*c(t)]++),A.sym_next===A.sym_end),_tr_align:A=>{B(A,2,3),f(A,256,r),(A=>{16===A.bi_valid?(d(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(A)}};var K=(A,t,e,i)=>{let s=65535&A|0,a=A>>>16&65535|0,r=0;for(;0!==e;){r=e>2e3?2e3:e,e-=r;do{s=s+t[i++]|0,a=a+s|0}while(--r);s%=65521,a%=65521}return s|a<<16|0};const P=new Uint32Array((()=>{let A,t=[];for(var e=0;e<256;e++){A=e;for(var i=0;i<8;i++)A=1&A?3988292384^A>>>1:A>>>1;t[e]=A}return t})());var T=(A,t,e,i)=>{const s=P,a=i+e;A^=-1;for(let e=i;e<a;e++)A=A>>>8^s[255&(A^t[e])];return-1^A},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:x,_tr_stored_block:L,_tr_flush_block:J,_tr_tally:O,_tr_align:z}=G,{Z_NO_FLUSH:U,Z_PARTIAL_FLUSH:Z,Z_FULL_FLUSH:N,Z_FINISH:q,Z_BLOCK:j,Z_OK:W,Z_STREAM_END:X,Z_STREAM_ERROR:V,Z_DATA_ERROR:$,Z_BUF_ERROR:AA,Z_DEFAULT_COMPRESSION:tA,Z_FILTERED:eA,Z_HUFFMAN_ONLY:iA,Z_RLE:sA,Z_FIXED:aA,Z_DEFAULT_STRATEGY:rA,Z_UNKNOWN:nA,Z_DEFLATED:hA}=v,oA=(A,t)=>(A.msg=Y[t],t),gA=A=>2*A-(A>4?9:0),_A=A=>{let t=A.length;for(;--t>=0;)A[t]=0},EA=A=>{let t,e,i,s=A.w_size;t=A.hash_size,i=t;do{e=A.head[--i],A.head[i]=e>=s?e-s:0}while(--t);t=s,i=t;do{e=A.prev[--i],A.prev[i]=e>=s?e-s:0}while(--t)};let IA=(A,t,e)=>(t<<A.hash_shift^e)&A.hash_mask;const wA=A=>{const t=A.state;let e=t.pending;e>A.avail_out&&(e=A.avail_out),0!==e&&(A.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),A.next_out),A.next_out+=e,t.pending_out+=e,A.total_out+=e,A.avail_out-=e,t.pending-=e,0===t.pending&&(t.pending_out=0))},lA=(A,t)=>{J(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,t),A.block_start=A.strstart,wA(A.strm)},CA=(A,t)=>{A.pending_buf[A.pending++]=t},cA=(A,t)=>{A.pending_buf[A.pending++]=t>>>8&255,A.pending_buf[A.pending++]=255&t},dA=(A,t,e,i)=>{let s=A.avail_in;return s>i&&(s=i),0===s?0:(A.avail_in-=s,t.set(A.input.subarray(A.next_in,A.next_in+s),e),1===A.state.wrap?A.adler=K(A.adler,t,s,e):2===A.state.wrap&&(A.adler=T(A.adler,t,s,e)),A.next_in+=s,A.total_in+=s,s)},BA=(A,t)=>{let e,i,s=A.max_chain_length,a=A.strstart,r=A.prev_length,n=A.nice_match;const h=A.strstart>A.w_size-262?A.strstart-(A.w_size-262):0,o=A.window,g=A.w_mask,_=A.prev,E=A.strstart+258;let I=o[a+r-1],w=o[a+r];A.prev_length>=A.good_match&&(s>>=2),n>A.lookahead&&(n=A.lookahead);do{if(e=t,o[e+r]===w&&o[e+r-1]===I&&o[e]===o[a]&&o[++e]===o[a+1]){a+=2,e++;do{}while(o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&o[++a]===o[++e]&&a<E);if(i=258-(E-a),a=E-258,i>r){if(A.match_start=t,r=i,i>=n)break;I=o[a+r-1],w=o[a+r]}}}while((t=_[t&g])>h&&0!=--s);return r<=A.lookahead?r:A.lookahead},fA=A=>{const t=A.w_size;let e,i,s;do{if(i=A.window_size-A.lookahead-A.strstart,A.strstart>=t+(t-262)&&(A.window.set(A.window.subarray(t,t+t-i),0),A.match_start-=t,A.strstart-=t,A.block_start-=t,A.insert>A.strstart&&(A.insert=A.strstart),EA(A),i+=t),0===A.strm.avail_in)break;if(e=dA(A.strm,A.window,A.strstart+A.lookahead,i),A.lookahead+=e,A.lookahead+A.insert>=3)for(s=A.strstart-A.insert,A.ins_h=A.window[s],A.ins_h=IA(A,A.ins_h,A.window[s+1]);A.insert&&(A.ins_h=IA(A,A.ins_h,A.window[s+3-1]),A.prev[s&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=s,s++,A.insert--,!(A.lookahead+A.insert<3)););}while(A.lookahead<262&&0!==A.strm.avail_in)},DA=(A,t)=>{let e,i,s,a=A.pending_buf_size-5>A.w_size?A.w_size:A.pending_buf_size-5,r=0,n=A.strm.avail_in;do{if(e=65535,s=A.bi_valid+42>>3,A.strm.avail_out<s)break;if(s=A.strm.avail_out-s,i=A.strstart-A.block_start,e>i+A.strm.avail_in&&(e=i+A.strm.avail_in),e>s&&(e=s),e<a&&(0===e&&t!==q||t===U||e!==i+A.strm.avail_in))break;r=t===q&&e===i+A.strm.avail_in?1:0,L(A,0,0,r),A.pending_buf[A.pending-4]=e,A.pending_buf[A.pending-3]=e>>8,A.pending_buf[A.pending-2]=~e,A.pending_buf[A.pending-1]=~e>>8,wA(A.strm),i&&(i>e&&(i=e),A.strm.output.set(A.window.subarray(A.block_start,A.block_start+i),A.strm.next_out),A.strm.next_out+=i,A.strm.avail_out-=i,A.strm.total_out+=i,A.block_start+=i,e-=i),e&&(dA(A.strm,A.strm.output,A.strm.next_out,e),A.strm.next_out+=e,A.strm.avail_out-=e,A.strm.total_out+=e)}while(0===r);return n-=A.strm.avail_in,n&&(n>=A.w_size?(A.matches=2,A.window.set(A.strm.input.subarray(A.strm.next_in-A.w_size,A.strm.next_in),0),A.strstart=A.w_size,A.insert=A.strstart):(A.window_size-A.strstart<=n&&(A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,A.insert>A.strstart&&(A.insert=A.strstart)),A.window.set(A.strm.input.subarray(A.strm.next_in-n,A.strm.next_in),A.strstart),A.strstart+=n,A.insert+=n>A.w_size-A.insert?A.w_size-A.insert:n),A.block_start=A.strstart),A.high_water<A.strstart&&(A.high_water=A.strstart),r?4:t!==U&&t!==q&&0===A.strm.avail_in&&A.strstart===A.block_start?2:(s=A.window_size-A.strstart,A.strm.avail_in>s&&A.block_start>=A.w_size&&(A.block_start-=A.w_size,A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,s+=A.w_size,A.insert>A.strstart&&(A.insert=A.strstart)),s>A.strm.avail_in&&(s=A.strm.avail_in),s&&(dA(A.strm,A.window,A.strstart,s),A.strstart+=s,A.insert+=s>A.w_size-A.insert?A.w_size-A.insert:s),A.high_water<A.strstart&&(A.high_water=A.strstart),s=A.bi_valid+42>>3,s=A.pending_buf_size-s>65535?65535:A.pending_buf_size-s,a=s>A.w_size?A.w_size:s,i=A.strstart-A.block_start,(i>=a||(i||t===q)&&t!==U&&0===A.strm.avail_in&&i<=s)&&(e=i>s?s:i,r=t===q&&0===A.strm.avail_in&&e===i?1:0,L(A,A.block_start,e,r),A.block_start+=e,wA(A.strm)),r?3:1)},QA=(A,t)=>{let e,i;for(;;){if(A.lookahead<262){if(fA(A),A.lookahead<262&&t===U)return 1;if(0===A.lookahead)break}if(e=0,A.lookahead>=3&&(A.ins_h=IA(A,A.ins_h,A.window[A.strstart+3-1]),e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!==e&&A.strstart-e<=A.w_size-262&&(A.match_length=BA(A,e)),A.match_length>=3)if(i=O(A,A.strstart-A.match_start,A.match_length-3),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=3){A.match_length--;do{A.strstart++,A.ins_h=IA(A,A.ins_h,A.window[A.strstart+3-1]),e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart}while(0!=--A.match_length);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=IA(A,A.ins_h,A.window[A.strstart+1]);else i=O(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(i&&(lA(A,!1),0===A.strm.avail_out))return 1}return A.insert=A.strstart<2?A.strstart:2,t===q?(lA(A,!0),0===A.strm.avail_out?3:4):A.sym_next&&(lA(A,!1),0===A.strm.avail_out)?1:2},MA=(A,t)=>{let e,i,s;for(;;){if(A.lookahead<262){if(fA(A),A.lookahead<262&&t===U)return 1;if(0===A.lookahead)break}if(e=0,A.lookahead>=3&&(A.ins_h=IA(A,A.ins_h,A.window[A.strstart+3-1]),e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=2,0!==e&&A.prev_length<A.max_lazy_match&&A.strstart-e<=A.w_size-262&&(A.match_length=BA(A,e),A.match_length<=5&&(A.strategy===eA||3===A.match_length&&A.strstart-A.match_start>4096)&&(A.match_length=2)),A.prev_length>=3&&A.match_length<=A.prev_length){s=A.strstart+A.lookahead-3,i=O(A,A.strstart-1-A.prev_match,A.prev_length-3),A.lookahead-=A.prev_length-1,A.prev_length-=2;do{++A.strstart<=s&&(A.ins_h=IA(A,A.ins_h,A.window[A.strstart+3-1]),e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart)}while(0!=--A.prev_length);if(A.match_available=0,A.match_length=2,A.strstart++,i&&(lA(A,!1),0===A.strm.avail_out))return 1}else if(A.match_available){if(i=O(A,0,A.window[A.strstart-1]),i&&lA(A,!1),A.strstart++,A.lookahead--,0===A.strm.avail_out)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(i=O(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<2?A.strstart:2,t===q?(lA(A,!0),0===A.strm.avail_out?3:4):A.sym_next&&(lA(A,!1),0===A.strm.avail_out)?1:2};function SA(A,t,e,i,s){this.good_length=A,this.max_lazy=t,this.nice_length=e,this.max_chain=i,this.func=s}const uA=[new SA(0,0,0,0,DA),new SA(4,4,8,4,QA),new SA(4,5,16,8,QA),new SA(4,6,32,32,QA),new SA(4,4,16,16,MA),new SA(8,16,32,32,MA),new SA(8,16,128,128,MA),new SA(8,32,128,256,MA),new SA(32,128,258,1024,MA),new SA(32,258,258,4096,MA)];function pA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),_A(this.dyn_ltree),_A(this.dyn_dtree),_A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),_A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),_A(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mA=A=>{if(!A)return 1;const t=A.state;return!t||t.strm!==A||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},yA=A=>{if(mA(A))return oA(A,V);A.total_in=A.total_out=0,A.data_type=nA;const t=A.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,A.adler=2===t.wrap?0:1,t.last_flush=-2,x(t),W},kA=A=>{const t=yA(A);var e;return t===W&&((e=A.state).window_size=2*e.w_size,_A(e.head),e.max_lazy_match=uA[e.level].max_lazy,e.good_match=uA[e.level].good_length,e.nice_match=uA[e.level].nice_length,e.max_chain_length=uA[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},RA=(A,t,e,i,s,a)=>{if(!A)return V;let r=1;if(t===tA&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),s<1||s>9||e!==hA||i<8||i>15||t<0||t>9||a<0||a>aA||8===i&&1!==r)return oA(A,V);8===i&&(i=9);const n=new pA;return A.state=n,n.strm=A,n.status=42,n.wrap=r,n.gzhead=null,n.w_bits=i,n.w_size=1<<n.w_bits,n.w_mask=n.w_size-1,n.hash_bits=s+7,n.hash_size=1<<n.hash_bits,n.hash_mask=n.hash_size-1,n.hash_shift=~~((n.hash_bits+3-1)/3),n.window=new Uint8Array(2*n.w_size),n.head=new Uint16Array(n.hash_size),n.prev=new Uint16Array(n.w_size),n.lit_bufsize=1<<s+6,n.pending_buf_size=4*n.lit_bufsize,n.pending_buf=new Uint8Array(n.pending_buf_size),n.sym_buf=n.lit_bufsize,n.sym_end=3*(n.lit_bufsize-1),n.level=t,n.strategy=a,n.method=e,kA(A)};var bA={deflateInit:(A,t)=>RA(A,t,hA,15,8,rA),deflateInit2:RA,deflateReset:kA,deflateResetKeep:yA,deflateSetHeader:(A,t)=>mA(A)||2!==A.state.wrap?V:(A.state.gzhead=t,W),deflate:(A,t)=>{if(mA(A)||t>j||t<0)return A?oA(A,V):V;const e=A.state;if(!A.output||0!==A.avail_in&&!A.input||666===e.status&&t!==q)return oA(A,0===A.avail_out?AA:V);const i=e.last_flush;if(e.last_flush=t,0!==e.pending){if(wA(A),0===A.avail_out)return e.last_flush=-1,W}else if(0===A.avail_in&&gA(t)<=gA(i)&&t!==q)return oA(A,AA);if(666===e.status&&0!==A.avail_in)return oA(A,AA);if(42===e.status&&0===e.wrap&&(e.status=113),42===e.status){let t=hA+(e.w_bits-8<<4)<<8,i=-1;if(i=e.strategy>=iA||e.level<2?0:e.level<6?1:6===e.level?2:3,t|=i<<6,0!==e.strstart&&(t|=32),t+=31-t%31,cA(e,t),0!==e.strstart&&(cA(e,A.adler>>>16),cA(e,65535&A.adler)),A.adler=1,e.status=113,wA(A),0!==e.pending)return e.last_flush=-1,W}if(57===e.status)if(A.adler=0,CA(e,31),CA(e,139),CA(e,8),e.gzhead)CA(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),CA(e,255&e.gzhead.time),CA(e,e.gzhead.time>>8&255),CA(e,e.gzhead.time>>16&255),CA(e,e.gzhead.time>>24&255),CA(e,9===e.level?2:e.strategy>=iA||e.level<2?4:0),CA(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(CA(e,255&e.gzhead.extra.length),CA(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(A.adler=T(A.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(CA(e,0),CA(e,0),CA(e,0),CA(e,0),CA(e,0),CA(e,9===e.level?2:e.strategy>=iA||e.level<2?4:0),CA(e,3),e.status=113,wA(A),0!==e.pending)return e.last_flush=-1,W;if(69===e.status){if(e.gzhead.extra){let t=e.pending,i=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+i>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>t&&(A.adler=T(A.adler,e.pending_buf,e.pending-t,t)),e.gzindex+=s,wA(A),0!==e.pending)return e.last_flush=-1,W;t=0,i-=s}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+i),e.pending),e.pending+=i,e.gzhead.hcrc&&e.pending>t&&(A.adler=T(A.adler,e.pending_buf,e.pending-t,t)),e.gzindex=0}e.status=73}if(73===e.status){if(e.gzhead.name){let t,i=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(A.adler=T(A.adler,e.pending_buf,e.pending-i,i)),wA(A),0!==e.pending)return e.last_flush=-1,W;i=0}t=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,CA(e,t)}while(0!==t);e.gzhead.hcrc&&e.pending>i&&(A.adler=T(A.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=91}if(91===e.status){if(e.gzhead.comment){let t,i=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(A.adler=T(A.adler,e.pending_buf,e.pending-i,i)),wA(A),0!==e.pending)return e.last_flush=-1,W;i=0}t=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,CA(e,t)}while(0!==t);e.gzhead.hcrc&&e.pending>i&&(A.adler=T(A.adler,e.pending_buf,e.pending-i,i))}e.status=103}if(103===e.status){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(wA(A),0!==e.pending))return e.last_flush=-1,W;CA(e,255&A.adler),CA(e,A.adler>>8&255),A.adler=0}if(e.status=113,wA(A),0!==e.pending)return e.last_flush=-1,W}if(0!==A.avail_in||0!==e.lookahead||t!==U&&666!==e.status){let i=0===e.level?DA(e,t):e.strategy===iA?((A,t)=>{let e;for(;;){if(0===A.lookahead&&(fA(A),0===A.lookahead)){if(t===U)return 1;break}if(A.match_length=0,e=O(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,e&&(lA(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,t===q?(lA(A,!0),0===A.strm.avail_out?3:4):A.sym_next&&(lA(A,!1),0===A.strm.avail_out)?1:2})(e,t):e.strategy===sA?((A,t)=>{let e,i,s,a;const r=A.window;for(;;){if(A.lookahead<=258){if(fA(A),A.lookahead<=258&&t===U)return 1;if(0===A.lookahead)break}if(A.match_length=0,A.lookahead>=3&&A.strstart>0&&(s=A.strstart-1,i=r[s],i===r[++s]&&i===r[++s]&&i===r[++s])){a=A.strstart+258;do{}while(i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&s<a);A.match_length=258-(a-s),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(e=O(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(e=O(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),e&&(lA(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,t===q?(lA(A,!0),0===A.strm.avail_out?3:4):A.sym_next&&(lA(A,!1),0===A.strm.avail_out)?1:2})(e,t):uA[e.level].func(e,t);if(3!==i&&4!==i||(e.status=666),1===i||3===i)return 0===A.avail_out&&(e.last_flush=-1),W;if(2===i&&(t===Z?z(e):t!==j&&(L(e,0,0,!1),t===N&&(_A(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),wA(A),0===A.avail_out))return e.last_flush=-1,W}return t!==q?W:e.wrap<=0?X:(2===e.wrap?(CA(e,255&A.adler),CA(e,A.adler>>8&255),CA(e,A.adler>>16&255),CA(e,A.adler>>24&255),CA(e,255&A.total_in),CA(e,A.total_in>>8&255),CA(e,A.total_in>>16&255),CA(e,A.total_in>>24&255)):(cA(e,A.adler>>>16),cA(e,65535&A.adler)),wA(A),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?W:X)},deflateEnd:A=>{if(mA(A))return V;const t=A.state.status;return A.state=null,113===t?oA(A,$):W},deflateSetDictionary:(A,t)=>{let e=t.length;if(mA(A))return V;const i=A.state,s=i.wrap;if(2===s||1===s&&42!==i.status||i.lookahead)return V;if(1===s&&(A.adler=K(A.adler,t,e,0)),i.wrap=0,e>=i.w_size){0===s&&(_A(i.head),i.strstart=0,i.block_start=0,i.insert=0);let A=new Uint8Array(i.w_size);A.set(t.subarray(e-i.w_size,e),0),t=A,e=i.w_size}const a=A.avail_in,r=A.next_in,n=A.input;for(A.avail_in=e,A.next_in=0,A.input=t,fA(i);i.lookahead>=3;){let A=i.strstart,t=i.lookahead-2;do{i.ins_h=IA(i,i.ins_h,i.window[A+3-1]),i.prev[A&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=A,A++}while(--t);i.strstart=A,i.lookahead=2,fA(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,A.next_in=r,A.input=n,A.avail_in=a,i.wrap=s,W},deflateInfo:"pako deflate (from Nodeca project)"};const HA=(A,t)=>Object.prototype.hasOwnProperty.call(A,t);var FA=function(A){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const t in e)HA(e,t)&&(A[t]=e[t])}}return A},GA=A=>{let t=0;for(let e=0,i=A.length;e<i;e++)t+=A[e].length;const e=new Uint8Array(t);for(let t=0,i=0,s=A.length;t<s;t++){let s=A[t];e.set(s,i),i+=s.length}return e};let KA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){KA=!1}const PA=new Uint8Array(256);for(let A=0;A<256;A++)PA[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;PA[254]=PA[254]=1;var TA=A=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);let t,e,i,s,a,r=A.length,n=0;for(s=0;s<r;s++)e=A.charCodeAt(s),55296==(64512&e)&&s+1<r&&(i=A.charCodeAt(s+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),s++)),n+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(n),a=0,s=0;a<n;s++)e=A.charCodeAt(s),55296==(64512&e)&&s+1<r&&(i=A.charCodeAt(s+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),s++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|63&e):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|63&e):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|63&e);return t},YA=(A,t)=>{const e=t||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,t));let i,s;const a=new Array(2*e);for(s=0,i=0;i<e;){let t=A[i++];if(t<128){a[s++]=t;continue}let r=PA[t];if(r>4)a[s++]=65533,i+=r-1;else{for(t&=2===r?31:3===r?15:7;r>1&&i<e;)t=t<<6|63&A[i++],r--;r>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((A,t)=>{if(t<65534&&A.subarray&&KA)return String.fromCharCode.apply(null,A.length===t?A:A.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(A[i]);return e})(a,s)},vA=(A,t)=>{(t=t||A.length)>A.length&&(t=A.length);let e=t-1;for(;e>=0&&128==(192&A[e]);)e--;return e<0||0===e?t:e+PA[A[e]]>t?e:t};var xA=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const LA=Object.prototype.toString,{Z_NO_FLUSH:JA,Z_SYNC_FLUSH:OA,Z_FULL_FLUSH:zA,Z_FINISH:UA,Z_OK:ZA,Z_STREAM_END:NA,Z_DEFAULT_COMPRESSION:qA,Z_DEFAULT_STRATEGY:jA,Z_DEFLATED:WA}=v;function XA(A){this.options=FA({level:qA,method:WA,chunkSize:16384,windowBits:15,memLevel:8,strategy:jA},A||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xA,this.strm.avail_out=0;let e=bA.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==ZA)throw new Error(Y[e]);if(t.header&&bA.deflateSetHeader(this.strm,t.header),t.dictionary){let A;if(A="string"==typeof t.dictionary?TA(t.dictionary):"[object ArrayBuffer]"===LA.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,e=bA.deflateSetDictionary(this.strm,A),e!==ZA)throw new Error(Y[e]);this._dict_set=!0}}function VA(A,t){const e=new XA(t);if(e.push(A,!0),e.err)throw e.msg||Y[e.err];return e.result}XA.prototype.push=function(A,t){const e=this.strm,i=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?UA:JA,"string"==typeof A?e.input=TA(A):"[object ArrayBuffer]"===LA.call(A)?e.input=new Uint8Array(A):e.input=A,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(a===OA||a===zA)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(s=bA.deflate(e,a),s===NA)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=bA.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ZA;if(0!==e.avail_out){if(a>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},XA.prototype.onData=function(A){this.chunks.push(A)},XA.prototype.onEnd=function(A){A===ZA&&(this.result=GA(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var $A={Deflate:XA,deflate:VA,deflateRaw:function(A,t){return(t=t||{}).raw=!0,VA(A,t)},gzip:function(A,t){return(t=t||{}).gzip=!0,VA(A,t)},constants:v};var At=function(A,t){let e,i,s,a,r,n,h,o,g,_,E,I,w,l,C,c,d,B,f,D,Q,M,S,u;const p=A.state;e=A.next_in,S=A.input,i=e+(A.avail_in-5),s=A.next_out,u=A.output,a=s-(t-A.avail_out),r=s+(A.avail_out-257),n=p.dmax,h=p.wsize,o=p.whave,g=p.wnext,_=p.window,E=p.hold,I=p.bits,w=p.lencode,l=p.distcode,C=(1<<p.lenbits)-1,c=(1<<p.distbits)-1;A:do{I<15&&(E+=S[e++]<<I,I+=8,E+=S[e++]<<I,I+=8),d=w[E&C];t:for(;;){if(B=d>>>24,E>>>=B,I-=B,B=d>>>16&255,0===B)u[s++]=65535&d;else{if(!(16&B)){if(0==(64&B)){d=w[(65535&d)+(E&(1<<B)-1)];continue t}if(32&B){p.mode=16191;break A}A.msg="invalid literal/length code",p.mode=16209;break A}f=65535&d,B&=15,B&&(I<B&&(E+=S[e++]<<I,I+=8),f+=E&(1<<B)-1,E>>>=B,I-=B),I<15&&(E+=S[e++]<<I,I+=8,E+=S[e++]<<I,I+=8),d=l[E&c];e:for(;;){if(B=d>>>24,E>>>=B,I-=B,B=d>>>16&255,!(16&B)){if(0==(64&B)){d=l[(65535&d)+(E&(1<<B)-1)];continue e}A.msg="invalid distance code",p.mode=16209;break A}if(D=65535&d,B&=15,I<B&&(E+=S[e++]<<I,I+=8,I<B&&(E+=S[e++]<<I,I+=8)),D+=E&(1<<B)-1,D>n){A.msg="invalid distance too far back",p.mode=16209;break A}if(E>>>=B,I-=B,B=s-a,D>B){if(B=D-B,B>o&&p.sane){A.msg="invalid distance too far back",p.mode=16209;break A}if(Q=0,M=_,0===g){if(Q+=h-B,B<f){f-=B;do{u[s++]=_[Q++]}while(--B);Q=s-D,M=u}}else if(g<B){if(Q+=h+g-B,B-=g,B<f){f-=B;do{u[s++]=_[Q++]}while(--B);if(Q=0,g<f){B=g,f-=B;do{u[s++]=_[Q++]}while(--B);Q=s-D,M=u}}}else if(Q+=g-B,B<f){f-=B;do{u[s++]=_[Q++]}while(--B);Q=s-D,M=u}for(;f>2;)u[s++]=M[Q++],u[s++]=M[Q++],u[s++]=M[Q++],f-=3;f&&(u[s++]=M[Q++],f>1&&(u[s++]=M[Q++]))}else{Q=s-D;do{u[s++]=u[Q++],u[s++]=u[Q++],u[s++]=u[Q++],f-=3}while(f>2);f&&(u[s++]=u[Q++],f>1&&(u[s++]=u[Q++]))}break}}break}}while(e<i&&s<r);f=I>>3,e-=f,I-=f<<3,E&=(1<<I)-1,A.next_in=e,A.next_out=s,A.avail_in=e<i?i-e+5:5-(e-i),A.avail_out=s<r?r-s+257:257-(s-r),p.hold=E,p.bits=I};const tt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),et=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),it=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),st=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var at=(A,t,e,i,s,a,r,n)=>{const h=n.bits;let o,g,_,E,I,w,l=0,C=0,c=0,d=0,B=0,f=0,D=0,Q=0,M=0,S=0,u=null;const p=new Uint16Array(16),m=new Uint16Array(16);let y,k,R,b=null;for(l=0;l<=15;l++)p[l]=0;for(C=0;C<i;C++)p[t[e+C]]++;for(B=h,d=15;d>=1&&0===p[d];d--);if(B>d&&(B=d),0===d)return s[a++]=20971520,s[a++]=20971520,n.bits=1,0;for(c=1;c<d&&0===p[c];c++);for(B<c&&(B=c),Q=1,l=1;l<=15;l++)if(Q<<=1,Q-=p[l],Q<0)return-1;if(Q>0&&(0===A||1!==d))return-1;for(m[1]=0,l=1;l<15;l++)m[l+1]=m[l]+p[l];for(C=0;C<i;C++)0!==t[e+C]&&(r[m[t[e+C]]++]=C);if(0===A?(u=b=r,w=20):1===A?(u=tt,b=et,w=257):(u=it,b=st,w=0),S=0,C=0,l=c,I=a,f=B,D=0,_=-1,M=1<<B,E=M-1,1===A&&M>852||2===A&&M>592)return 1;for(;;){y=l-D,r[C]+1<w?(k=0,R=r[C]):r[C]>=w?(k=b[r[C]-w],R=u[r[C]-w]):(k=96,R=0),o=1<<l-D,g=1<<f,c=g;do{g-=o,s[I+(S>>D)+g]=y<<24|k<<16|R|0}while(0!==g);for(o=1<<l-1;S&o;)o>>=1;if(0!==o?(S&=o-1,S+=o):S=0,C++,0==--p[l]){if(l===d)break;l=t[e+r[C]]}if(l>B&&(S&E)!==_){for(0===D&&(D=B),I+=c,f=l-D,Q=1<<f;f+D<d&&(Q-=p[f+D],!(Q<=0));)f++,Q<<=1;if(M+=1<<f,1===A&&M>852||2===A&&M>592)return 1;_=S&E,s[_]=B<<24|f<<16|I-a|0}}return 0!==S&&(s[I+S]=l-D<<24|64<<16|0),n.bits=B,0};const{Z_FINISH:rt,Z_BLOCK:nt,Z_TREES:ht,Z_OK:ot,Z_STREAM_END:gt,Z_NEED_DICT:_t,Z_STREAM_ERROR:Et,Z_DATA_ERROR:It,Z_MEM_ERROR:wt,Z_BUF_ERROR:lt,Z_DEFLATED:Ct}=v,ct=16209,dt=A=>(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24);function Bt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ft=A=>{if(!A)return 1;const t=A.state;return!t||t.strm!==A||t.mode<16180||t.mode>16211?1:0},Dt=A=>{if(ft(A))return Et;const t=A.state;return A.total_in=A.total_out=t.total=0,A.msg="",t.wrap&&(A.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,ot},Qt=A=>{if(ft(A))return Et;const t=A.state;return t.wsize=0,t.whave=0,t.wnext=0,Dt(A)},Mt=(A,t)=>{let e;if(ft(A))return Et;const i=A.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Et:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,Qt(A))},St=(A,t)=>{if(!A)return Et;const e=new Bt;A.state=e,e.strm=A,e.window=null,e.mode=16180;const i=Mt(A,t);return i!==ot&&(A.state=null),i};let ut,pt,mt=!0;const yt=A=>{if(mt){ut=new Int32Array(512),pt=new Int32Array(32);let t=0;for(;t<144;)A.lens[t++]=8;for(;t<256;)A.lens[t++]=9;for(;t<280;)A.lens[t++]=7;for(;t<288;)A.lens[t++]=8;for(at(1,A.lens,0,288,ut,0,A.work,{bits:9}),t=0;t<32;)A.lens[t++]=5;at(2,A.lens,0,32,pt,0,A.work,{bits:5}),mt=!1}A.lencode=ut,A.lenbits=9,A.distcode=pt,A.distbits=5},kt=(A,t,e,i)=>{let s;const a=A.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(t.subarray(e-i,e-i+s),a.wnext),(i-=s)?(a.window.set(t.subarray(e-i,e),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var Rt={inflateReset:Qt,inflateReset2:Mt,inflateResetKeep:Dt,inflateInit:A=>St(A,15),inflateInit2:St,inflate:(A,t)=>{let e,i,s,a,r,n,h,o,g,_,E,I,w,l,C,c,d,B,f,D,Q,M,S=0;const u=new Uint8Array(4);let p,m;const y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ft(A)||!A.output||!A.input&&0!==A.avail_in)return Et;e=A.state,16191===e.mode&&(e.mode=16192),r=A.next_out,s=A.output,h=A.avail_out,a=A.next_in,i=A.input,n=A.avail_in,o=e.hold,g=e.bits,_=n,E=h,M=ot;A:for(;;)switch(e.mode){case 16180:if(0===e.wrap){e.mode=16192;break}for(;g<16;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(2&e.wrap&&35615===o){0===e.wbits&&(e.wbits=15),e.check=0,u[0]=255&o,u[1]=o>>>8&255,e.check=T(e.check,u,2,0),o=0,g=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&o)<<8)+(o>>8))%31){A.msg="incorrect header check",e.mode=ct;break}if((15&o)!==Ct){A.msg="unknown compression method",e.mode=ct;break}if(o>>>=4,g-=4,Q=8+(15&o),0===e.wbits&&(e.wbits=Q),Q>15||Q>e.wbits){A.msg="invalid window size",e.mode=ct;break}e.dmax=1<<e.wbits,e.flags=0,A.adler=e.check=1,e.mode=512&o?16189:16191,o=0,g=0;break;case 16181:for(;g<16;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(e.flags=o,(255&e.flags)!==Ct){A.msg="unknown compression method",e.mode=ct;break}if(57344&e.flags){A.msg="unknown header flags set",e.mode=ct;break}e.head&&(e.head.text=o>>8&1),512&e.flags&&4&e.wrap&&(u[0]=255&o,u[1]=o>>>8&255,e.check=T(e.check,u,2,0)),o=0,g=0,e.mode=16182;case 16182:for(;g<32;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.head&&(e.head.time=o),512&e.flags&&4&e.wrap&&(u[0]=255&o,u[1]=o>>>8&255,u[2]=o>>>16&255,u[3]=o>>>24&255,e.check=T(e.check,u,4,0)),o=0,g=0,e.mode=16183;case 16183:for(;g<16;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.head&&(e.head.xflags=255&o,e.head.os=o>>8),512&e.flags&&4&e.wrap&&(u[0]=255&o,u[1]=o>>>8&255,e.check=T(e.check,u,2,0)),o=0,g=0,e.mode=16184;case 16184:if(1024&e.flags){for(;g<16;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.length=o,e.head&&(e.head.extra_len=o),512&e.flags&&4&e.wrap&&(u[0]=255&o,u[1]=o>>>8&255,e.check=T(e.check,u,2,0)),o=0,g=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(I=e.length,I>n&&(I=n),I&&(e.head&&(Q=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(a,a+I),Q)),512&e.flags&&4&e.wrap&&(e.check=T(e.check,i,I,a)),n-=I,a+=I,e.length-=I),e.length))break A;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===n)break A;I=0;do{Q=i[a+I++],e.head&&Q&&e.length<65536&&(e.head.name+=String.fromCharCode(Q))}while(Q&&I<n);if(512&e.flags&&4&e.wrap&&(e.check=T(e.check,i,I,a)),n-=I,a+=I,Q)break A}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===n)break A;I=0;do{Q=i[a+I++],e.head&&Q&&e.length<65536&&(e.head.comment+=String.fromCharCode(Q))}while(Q&&I<n);if(512&e.flags&&4&e.wrap&&(e.check=T(e.check,i,I,a)),n-=I,a+=I,Q)break A}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;g<16;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(4&e.wrap&&o!==(65535&e.check)){A.msg="header crc mismatch",e.mode=ct;break}o=0,g=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),A.adler=e.check=0,e.mode=16191;break;case 16189:for(;g<32;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}A.adler=e.check=dt(o),o=0,g=0,e.mode=16190;case 16190:if(0===e.havedict)return A.next_out=r,A.avail_out=h,A.next_in=a,A.avail_in=n,e.hold=o,e.bits=g,_t;A.adler=e.check=1,e.mode=16191;case 16191:if(t===nt||t===ht)break A;case 16192:if(e.last){o>>>=7&g,g-=7&g,e.mode=16206;break}for(;g<3;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}switch(e.last=1&o,o>>>=1,g-=1,3&o){case 0:e.mode=16193;break;case 1:if(yt(e),e.mode=16199,t===ht){o>>>=2,g-=2;break A}break;case 2:e.mode=16196;break;case 3:A.msg="invalid block type",e.mode=ct}o>>>=2,g-=2;break;case 16193:for(o>>>=7&g,g-=7&g;g<32;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if((65535&o)!=(o>>>16^65535)){A.msg="invalid stored block lengths",e.mode=ct;break}if(e.length=65535&o,o=0,g=0,e.mode=16194,t===ht)break A;case 16194:e.mode=16195;case 16195:if(I=e.length,I){if(I>n&&(I=n),I>h&&(I=h),0===I)break A;s.set(i.subarray(a,a+I),r),n-=I,a+=I,h-=I,r+=I,e.length-=I;break}e.mode=16191;break;case 16196:for(;g<14;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(e.nlen=257+(31&o),o>>>=5,g-=5,e.ndist=1+(31&o),o>>>=5,g-=5,e.ncode=4+(15&o),o>>>=4,g-=4,e.nlen>286||e.ndist>30){A.msg="too many length or distance symbols",e.mode=ct;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;g<3;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.lens[y[e.have++]]=7&o,o>>>=3,g-=3}for(;e.have<19;)e.lens[y[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,p={bits:e.lenbits},M=at(0,e.lens,0,19,e.lencode,0,e.work,p),e.lenbits=p.bits,M){A.msg="invalid code lengths set",e.mode=ct;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;S=e.lencode[o&(1<<e.lenbits)-1],C=S>>>24,c=S>>>16&255,d=65535&S,!(C<=g);){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(d<16)o>>>=C,g-=C,e.lens[e.have++]=d;else{if(16===d){for(m=C+2;g<m;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(o>>>=C,g-=C,0===e.have){A.msg="invalid bit length repeat",e.mode=ct;break}Q=e.lens[e.have-1],I=3+(3&o),o>>>=2,g-=2}else if(17===d){for(m=C+3;g<m;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}o>>>=C,g-=C,Q=0,I=3+(7&o),o>>>=3,g-=3}else{for(m=C+7;g<m;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}o>>>=C,g-=C,Q=0,I=11+(127&o),o>>>=7,g-=7}if(e.have+I>e.nlen+e.ndist){A.msg="invalid bit length repeat",e.mode=ct;break}for(;I--;)e.lens[e.have++]=Q}}if(e.mode===ct)break;if(0===e.lens[256]){A.msg="invalid code -- missing end-of-block",e.mode=ct;break}if(e.lenbits=9,p={bits:e.lenbits},M=at(1,e.lens,0,e.nlen,e.lencode,0,e.work,p),e.lenbits=p.bits,M){A.msg="invalid literal/lengths set",e.mode=ct;break}if(e.distbits=6,e.distcode=e.distdyn,p={bits:e.distbits},M=at(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,p),e.distbits=p.bits,M){A.msg="invalid distances set",e.mode=ct;break}if(e.mode=16199,t===ht)break A;case 16199:e.mode=16200;case 16200:if(n>=6&&h>=258){A.next_out=r,A.avail_out=h,A.next_in=a,A.avail_in=n,e.hold=o,e.bits=g,At(A,E),r=A.next_out,s=A.output,h=A.avail_out,a=A.next_in,i=A.input,n=A.avail_in,o=e.hold,g=e.bits,16191===e.mode&&(e.back=-1);break}for(e.back=0;S=e.lencode[o&(1<<e.lenbits)-1],C=S>>>24,c=S>>>16&255,d=65535&S,!(C<=g);){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(c&&0==(240&c)){for(B=C,f=c,D=d;S=e.lencode[D+((o&(1<<B+f)-1)>>B)],C=S>>>24,c=S>>>16&255,d=65535&S,!(B+C<=g);){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}o>>>=B,g-=B,e.back+=B}if(o>>>=C,g-=C,e.back+=C,e.length=d,0===c){e.mode=16205;break}if(32&c){e.back=-1,e.mode=16191;break}if(64&c){A.msg="invalid literal/length code",e.mode=ct;break}e.extra=15&c,e.mode=16201;case 16201:if(e.extra){for(m=e.extra;g<m;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,g-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;S=e.distcode[o&(1<<e.distbits)-1],C=S>>>24,c=S>>>16&255,d=65535&S,!(C<=g);){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(0==(240&c)){for(B=C,f=c,D=d;S=e.distcode[D+((o&(1<<B+f)-1)>>B)],C=S>>>24,c=S>>>16&255,d=65535&S,!(B+C<=g);){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}o>>>=B,g-=B,e.back+=B}if(o>>>=C,g-=C,e.back+=C,64&c){A.msg="invalid distance code",e.mode=ct;break}e.offset=d,e.extra=15&c,e.mode=16203;case 16203:if(e.extra){for(m=e.extra;g<m;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,g-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){A.msg="invalid distance too far back",e.mode=ct;break}e.mode=16204;case 16204:if(0===h)break A;if(I=E-h,e.offset>I){if(I=e.offset-I,I>e.whave&&e.sane){A.msg="invalid distance too far back",e.mode=ct;break}I>e.wnext?(I-=e.wnext,w=e.wsize-I):w=e.wnext-I,I>e.length&&(I=e.length),l=e.window}else l=s,w=r-e.offset,I=e.length;I>h&&(I=h),h-=I,e.length-=I;do{s[r++]=l[w++]}while(--I);0===e.length&&(e.mode=16200);break;case 16205:if(0===h)break A;s[r++]=e.length,h--,e.mode=16200;break;case 16206:if(e.wrap){for(;g<32;){if(0===n)break A;n--,o|=i[a++]<<g,g+=8}if(E-=h,A.total_out+=E,e.total+=E,4&e.wrap&&E&&(A.adler=e.check=e.flags?T(e.check,s,E,r-E):K(e.check,s,E,r-E)),E=h,4&e.wrap&&(e.flags?o:dt(o))!==e.check){A.msg="incorrect data check",e.mode=ct;break}o=0,g=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;g<32;){if(0===n)break A;n--,o+=i[a++]<<g,g+=8}if(4&e.wrap&&o!==(4294967295&e.total)){A.msg="incorrect length check",e.mode=ct;break}o=0,g=0}e.mode=16208;case 16208:M=gt;break A;case ct:M=It;break A;case 16210:return wt;default:return Et}return A.next_out=r,A.avail_out=h,A.next_in=a,A.avail_in=n,e.hold=o,e.bits=g,(e.wsize||E!==A.avail_out&&e.mode<ct&&(e.mode<16206||t!==rt))&&kt(A,A.output,A.next_out,E-A.avail_out),_-=A.avail_in,E-=A.avail_out,A.total_in+=_,A.total_out+=E,e.total+=E,4&e.wrap&&E&&(A.adler=e.check=e.flags?T(e.check,s,E,A.next_out-E):K(e.check,s,E,A.next_out-E)),A.data_type=e.bits+(e.last?64:0)+(16191===e.mode?128:0)+(16199===e.mode||16194===e.mode?256:0),(0===_&&0===E||t===rt)&&M===ot&&(M=lt),M},inflateEnd:A=>{if(ft(A))return Et;let t=A.state;return t.window&&(t.window=null),A.state=null,ot},inflateGetHeader:(A,t)=>{if(ft(A))return Et;const e=A.state;return 0==(2&e.wrap)?Et:(e.head=t,t.done=!1,ot)},inflateSetDictionary:(A,t)=>{const e=t.length;let i,s,a;return ft(A)?Et:(i=A.state,0!==i.wrap&&16190!==i.mode?Et:16190===i.mode&&(s=1,s=K(s,t,e,0),s!==i.check)?It:(a=kt(A,t,e,e),a?(i.mode=16210,wt):(i.havedict=1,ot)))},inflateInfo:"pako inflate (from Nodeca project)"};var bt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Ft,Z_FINISH:Gt,Z_OK:Kt,Z_STREAM_END:Pt,Z_NEED_DICT:Tt,Z_STREAM_ERROR:Yt,Z_DATA_ERROR:vt,Z_MEM_ERROR:xt}=v;function Lt(A){this.options=FA({chunkSize:65536,windowBits:15,to:""},A||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||A&&A.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xA,this.strm.avail_out=0;let e=Rt.inflateInit2(this.strm,t.windowBits);if(e!==Kt)throw new Error(Y[e]);if(this.header=new bt,Rt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=TA(t.dictionary):"[object ArrayBuffer]"===Ht.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Rt.inflateSetDictionary(this.strm,t.dictionary),e!==Kt)))throw new Error(Y[e])}Lt.prototype.push=function(A,t){const e=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,r,n;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Gt:Ft,"[object ArrayBuffer]"===Ht.call(A)?e.input=new Uint8Array(A):e.input=A,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),a=Rt.inflate(e,r),a===Tt&&s&&(a=Rt.inflateSetDictionary(e,s),a===Kt?a=Rt.inflate(e,r):a===vt&&(a=Tt));e.avail_in>0&&a===Pt&&e.state.wrap>0&&0!==A[e.next_in];)Rt.inflateReset(e),a=Rt.inflate(e,r);switch(a){case Yt:case vt:case Tt:case xt:return this.onEnd(a),this.ended=!0,!1}if(n=e.avail_out,e.next_out&&(0===e.avail_out||a===Pt))if("string"===this.options.to){let A=vA(e.output,e.next_out),t=e.next_out-A,s=YA(e.output,A);e.next_out=t,e.avail_out=i-t,t&&e.output.set(e.output.subarray(A,A+t),0),this.onData(s)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(a!==Kt||0!==n){if(a===Pt)return a=Rt.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Lt.prototype.onData=function(A){this.chunks.push(A)},Lt.prototype.onEnd=function(A){A===Kt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=GA(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};const{Deflate:Jt,deflate:Ot,deflateRaw:zt,gzip:Ut}=$A;var Zt=Ot;class Nt{constructor(A,t,e,i=115200,s=!1){this.transport=A,this.baudrate=t,this.terminal=e,this.rom_baudrate=i,this.debugLogging=s,this.ESP_RAM_BLOCK=6144,this.ESP_FLASH_BEGIN=2,this.ESP_FLASH_DATA=3,this.ESP_FLASH_END=4,this.ESP_MEM_BEGIN=5,this.ESP_MEM_END=6,this.ESP_MEM_DATA=7,this.ESP_WRITE_REG=9,this.ESP_READ_REG=10,this.ESP_SPI_ATTACH=13,this.ESP_CHANGE_BAUDRATE=15,this.ESP_FLASH_DEFL_BEGIN=16,this.ESP_FLASH_DEFL_DATA=17,this.ESP_FLASH_DEFL_END=18,this.ESP_SPI_FLASH_MD5=19,this.ESP_ERASE_FLASH=208,this.ESP_ERASE_REGION=209,this.ESP_RUN_USER_CODE=211,this.ESP_IMAGE_MAGIC=233,this.ESP_CHECKSUM_MAGIC=239,this.ROM_INVALID_RECV_MSG=5,this.ERASE_REGION_TIMEOUT_PER_MB=3e4,this.ERASE_WRITE_TIMEOUT_PER_MB=4e4,this.MD5_TIMEOUT_PER_MB=8e3,this.CHIP_ERASE_TIMEOUT=12e4,this.MAX_TIMEOUT=2*this.CHIP_ERASE_TIMEOUT,this.CHIP_DETECT_MAGIC_REG_ADDR=1073745920,this.DETECTED_FLASH_SIZES={18:"256KB",19:"512KB",20:"1MB",21:"2MB",22:"4MB",23:"8MB",24:"16MB"},this.USB_JTAG_SERIAL_PID=4097,this.checksum=function(A){let t,e=239;for(t=0;t<A.length;t++)e^=A[t];return e},this.timeout_per_mb=function(A,t){const e=A*(t/1e6);return e<3e3?3e3:e},this.flash_size_bytes=function(A){let t=-1;return-1!==A.indexOf("KB")?t=1024*parseInt(A.slice(0,A.indexOf("KB"))):-1!==A.indexOf("MB")&&(t=1024*parseInt(A.slice(0,A.indexOf("MB")))*1024),t},this.IS_STUB=!1,this.chip=null,this.FLASH_WRITE_SIZE=16384,this.terminal&&this.terminal.clean(),this.info("esptool.js v0.1-dev"),this.info("Serial port "+this.transport.get_info())}_sleep(A){return new Promise((t=>setTimeout(t,A)))}write(A,t=!0){this.terminal?t?this.terminal.writeLine(A):this.terminal.write(A):console.log(A)}error(A,t=!0){this.write(`Error: ${A}`,t)}info(A,t=!0){this.write(A,t)}debug(A,t=!0){this.debugLogging&&this.write(`Debug: ${A}`,t)}_short_to_bytearray(A){return new Uint8Array([255&A,A>>8&255])}_int_to_bytearray(A){return new Uint8Array([255&A,A>>8&255,A>>16&255,A>>24&255])}_bytearray_to_short(A,t){return A|t>>8}_bytearray_to_int(A,t,e,i){return A|t<<8|e<<16|i<<24}_appendBuffer(A,t){const e=new Uint8Array(A.byteLength+t.byteLength);return e.set(new Uint8Array(A),0),e.set(new Uint8Array(t),A.byteLength),e.buffer}_appendArray(A,t){const e=new Uint8Array(A.length+t.length);return e.set(A,0),e.set(t,A.length),e}ui8ToBstr(A){let t="";for(let e=0;e<A.length;e++)t+=String.fromCharCode(A[e]);return t}bstrToUi8(A){const t=new Uint8Array(A.length);for(let e=0;e<A.length;e++)t[e]=A.charCodeAt(e);return t}async flush_input(){try{await this.transport.rawRead(200)}catch(A){this.error(A)}}async command(t=null,e=new Uint8Array(0),i=0,s=!0,a=3e3){if(null!=t){const A=new Uint8Array(8+e.length);let s;for(A[0]=0,A[1]=t,A[2]=this._short_to_bytearray(e.length)[0],A[3]=this._short_to_bytearray(e.length)[1],A[4]=this._int_to_bytearray(i)[0],A[5]=this._int_to_bytearray(i)[1],A[6]=this._int_to_bytearray(i)[2],A[7]=this._int_to_bytearray(i)[3],s=0;s<e.length;s++)A[8+s]=e[s];await this.transport.write(A)}if(!s)return[0,new Uint8Array(0)];for(let e=0;e<100;e++){const e=await this.transport.read(a),i=e[0],s=e[1],r=this._bytearray_to_int(e[4],e[5],e[6],e[7]),n=e.slice(8);if(1==i){if(null==t||s==t)return[r,n];if(0!=n[0]&&n[1]==this.ROM_INVALID_RECV_MSG)throw await this.flush_input(),new A("unsupported command error")}}throw new A("invalid response")}async read_reg(A,t=3e3){const e=this._int_to_bytearray(A);return(await this.command(this.ESP_READ_REG,e,void 0,void 0,t))[0]}async write_reg(A,t,e=4294967295,i=0,s=0){let a=this._appendArray(this._int_to_bytearray(A),this._int_to_bytearray(t));a=this._appendArray(a,this._int_to_bytearray(e)),a=this._appendArray(a,this._int_to_bytearray(i)),s>0&&(a=this._appendArray(a,this._int_to_bytearray(this.chip.UART_DATE_REG_ADDR)),a=this._appendArray(a,this._int_to_bytearray(0)),a=this._appendArray(a,this._int_to_bytearray(0)),a=this._appendArray(a,this._int_to_bytearray(s))),await this.check_command("write target memory",this.ESP_WRITE_REG,a)}async sync(){this.debug("Sync");const A=new Uint8Array(36);let t;for(A[0]=7,A[1]=7,A[2]=18,A[3]=32,t=0;t<32;t++)A[4+t]=85;try{return await this.command(8,A,void 0,void 0,100)}catch(A){throw this.debug("Sync err "+A),A}}async _connect_attempt(A="default_reset",t=!1){this.debug("_connect_attempt "+A+" "+t),"no_reset"!==A&&(this.transport.get_pid()===this.USB_JTAG_SERIAL_PID?(await this.transport.setRTS(!1),await this.transport.setDTR(!1),await this._sleep(100),await this.transport.setDTR(!0),await this.transport.setRTS(!1),await this._sleep(100),await this.transport.setRTS(!0),await this.transport.setDTR(!1),await this.transport.setRTS(!0),await this._sleep(100),await this.transport.setRTS(!1),await this.transport.setDTR(!1)):(await this.transport.setDTR(!1),await this.transport.setRTS(!0),await this._sleep(100),t&&await this._sleep(2e3),await this.transport.setDTR(!0),await this.transport.setRTS(!1),await this._sleep(50),await this.transport.setDTR(!1)));let e=0,i=!0;for(;i;){try{e+=(await this.transport.read(1e3)).length}catch(A){if(this.debug(A),A instanceof Error){i=!1;break}}await this._sleep(50)}for(this.transport.slip_reader_enabled=!0,e=7;e--;){try{const A=await this.sync();return this.debug(A[0].toString()),"success"}catch(A){this.debug(A),A instanceof Error&&(t?this.info("_",!1):this.info(".",!1))}await this._sleep(50)}return"error"}async connect(t="default_reset",e=7,i=!1){let s,a;for(this.info("Connecting...",!1),await this.transport.connect(this.rom_baudrate),s=0;s<e&&(a=await this._connect_attempt(t,!1),"success"!==a)&&(a=await this._connect_attempt(t,!0),"success"!==a);s++);if("success"!==a)throw new A("Failed to connect with the device");if(this.info("\n\r",!1),!i){const t=await this.read_reg(1073745920)>>>0;if(this.debug("Chip Magic "+t.toString(16)),this.chip=await async function(A){switch(A){case 15736195:{const{ESP32ROM:A}=await Promise.resolve().then((function(){return te}));return new A}case 1763790959:case 456216687:{const{ESP32C3ROM:A}=await Promise.resolve().then((function(){return ne}));return new A}case 9:{const{ESP32S3ROM:A}=await Promise.resolve().then((function(){return Ie}));return new A}case 1990:{const{ESP32S2ROM:A}=await Promise.resolve().then((function(){return Be}));return new A}case 4293968129:{const{ESP8266ROM:A}=await Promise.resolve().then((function(){return ue}));return new A}default:return null}}(t),null===this.chip)throw new A(`Unexpected CHIP magic value ${t}. Failed to autodetect chip type.`)}}async detect_chip(A="default_reset"){await this.connect(A),this.info("Detecting chip type... ",!1),null!=this.chip?this.info(this.chip.CHIP_NAME):this.info("unknown!")}async check_command(A="",t=null,e=new Uint8Array(0),i=0,s=3e3){this.debug("check_command "+A);const a=await this.command(t,e,i,void 0,s);return a[1].length>4?a[1]:a[0]}async mem_begin(A,t,e,i){this.debug("mem_begin "+A+" "+t+" "+e+" "+i.toString(16));let s=this._appendArray(this._int_to_bytearray(A),this._int_to_bytearray(t));s=this._appendArray(s,this._int_to_bytearray(e)),s=this._appendArray(s,this._int_to_bytearray(i)),await this.check_command("enter RAM download mode",this.ESP_MEM_BEGIN,s)}async mem_block(A,t){let e=this._appendArray(this._int_to_bytearray(A.length),this._int_to_bytearray(t));e=this._appendArray(e,this._int_to_bytearray(0)),e=this._appendArray(e,this._int_to_bytearray(0)),e=this._appendArray(e,A);const i=this.checksum(A);await this.check_command("write to target RAM",this.ESP_MEM_DATA,e,i)}async mem_finish(A){const t=0===A?1:0,e=this._appendArray(this._int_to_bytearray(t),this._int_to_bytearray(A));await this.check_command("leave RAM download mode",this.ESP_MEM_END,e,void 0,50)}async flash_spi_attach(A){const t=this._int_to_bytearray(A);await this.check_command("configure SPI flash pins",this.ESP_SPI_ATTACH,t)}async flash_begin(A,t){const e=Math.floor((A+this.FLASH_WRITE_SIZE-1)/this.FLASH_WRITE_SIZE),i=this.chip.get_erase_size(t,A),s=new Date,a=s.getTime();let r=3e3;0==this.IS_STUB&&(r=this.timeout_per_mb(this.ERASE_REGION_TIMEOUT_PER_MB,A)),this.debug("flash begin "+i+" "+e+" "+this.FLASH_WRITE_SIZE+" "+t+" "+A);let n=this._appendArray(this._int_to_bytearray(i),this._int_to_bytearray(e));n=this._appendArray(n,this._int_to_bytearray(this.FLASH_WRITE_SIZE)),n=this._appendArray(n,this._int_to_bytearray(t)),0==this.IS_STUB&&(n=this._appendArray(n,this._int_to_bytearray(0))),await this.check_command("enter Flash download mode",this.ESP_FLASH_BEGIN,n,void 0,r);const h=s.getTime();return 0!=A&&0==this.IS_STUB&&this.info("Took "+(h-a)/1e3+"."+(h-a)%1e3+"s to erase flash block"),e}async flash_defl_begin(A,t,e){const i=Math.floor((t+this.FLASH_WRITE_SIZE-1)/this.FLASH_WRITE_SIZE),s=Math.floor((A+this.FLASH_WRITE_SIZE-1)/this.FLASH_WRITE_SIZE),a=new Date,r=a.getTime();let n,h;this.IS_STUB?(n=A,h=3e3):(n=s*this.FLASH_WRITE_SIZE,h=this.timeout_per_mb(this.ERASE_REGION_TIMEOUT_PER_MB,n)),this.info("Compressed "+A+" bytes to "+t+"...");let o=this._appendArray(this._int_to_bytearray(n),this._int_to_bytearray(i));o=this._appendArray(o,this._int_to_bytearray(this.FLASH_WRITE_SIZE)),o=this._appendArray(o,this._int_to_bytearray(e)),"ESP32-S2"!==this.chip.CHIP_NAME&&"ESP32-S3"!==this.chip.CHIP_NAME&&"ESP32-C3"!==this.chip.CHIP_NAME||!1!==this.IS_STUB||(o=this._appendArray(o,this._int_to_bytearray(0))),await this.check_command("enter compressed flash mode",this.ESP_FLASH_DEFL_BEGIN,o,void 0,h);const g=a.getTime();return 0!=A&&!1===this.IS_STUB&&this.info("Took "+(g-r)/1e3+"."+(g-r)%1e3+"s to erase flash block"),i}async flash_block(A,t,e){let i=this._appendArray(this._int_to_bytearray(A.length),this._int_to_bytearray(t));i=this._appendArray(i,this._int_to_bytearray(0)),i=this._appendArray(i,this._int_to_bytearray(0)),i=this._appendArray(i,A);const s=this.checksum(A);await this.check_command("write to target Flash after seq "+t,this.ESP_FLASH_DATA,i,s,e)}async flash_defl_block(A,t,e){let i=this._appendArray(this._int_to_bytearray(A.length),this._int_to_bytearray(t));i=this._appendArray(i,this._int_to_bytearray(0)),i=this._appendArray(i,this._int_to_bytearray(0)),i=this._appendArray(i,A);const s=this.checksum(A);this.debug("flash_defl_block "+A[0].toString(16)+" "+A[1].toString(16)),await this.check_command("write compressed data to flash after seq "+t,this.ESP_FLASH_DEFL_DATA,i,s,e)}async flash_finish(A=!1){const t=A?0:1,e=this._int_to_bytearray(t);await this.check_command("leave Flash mode",this.ESP_FLASH_END,e)}async flash_defl_finish(A=!1){const t=A?0:1,e=this._int_to_bytearray(t);await this.check_command("leave compressed flash mode",this.ESP_FLASH_DEFL_END,e)}async run_spiflash_command(t,e,i){const s=this.chip.SPI_REG_BASE,a=s+0,r=s+this.chip.SPI_USR_OFFS,n=s+this.chip.SPI_USR1_OFFS,h=s+this.chip.SPI_USR2_OFFS,o=s+this.chip.SPI_W0_OFFS;let g;g=null!=this.chip.SPI_MOSI_DLEN_OFFS?async(A,t)=>{const e=s+this.chip.SPI_MOSI_DLEN_OFFS,i=s+this.chip.SPI_MISO_DLEN_OFFS;A>0&&await this.write_reg(e,A-1),t>0&&await this.write_reg(i,t-1)}:async(A,t)=>{const e=n,i=(0===t?0:t-1)<<8|(0===A?0:A-1)<<17;await this.write_reg(e,i)};const _=1<<18;if(i>32)throw new A("Reading more than 32 bits back from a SPI flash operation is unsupported");if(e.length>64)throw new A("Writing more than 64 bytes of data with one SPI command is unsupported");const E=8*e.length,I=await this.read_reg(r),w=await this.read_reg(h);let l,C=1<<31;i>0&&(C|=268435456),E>0&&(C|=134217728),await g(E,i),await this.write_reg(r,C);let c=7<<28|t;if(await this.write_reg(h,c),0==E)await this.write_reg(o,0);else{if(e.length%4!=0){const A=new Uint8Array(e.length%4);e=this._appendArray(e,A)}let A=o;for(l=0;l<e.length-4;l+=4)c=this._bytearray_to_int(e[l],e[l+1],e[l+2],e[l+3]),await this.write_reg(A,c),A+=4}for(await this.write_reg(a,_),l=0;l<10&&(c=await this.read_reg(a)&_,0!=c);l++);if(10===l)throw new A("SPI command did not complete in time");const d=await this.read_reg(o);return await this.write_reg(r,I),await this.write_reg(h,w),d}async read_flash_id(){const A=new Uint8Array(0);return await this.run_spiflash_command(159,A,24)}async erase_flash(){this.info("Erasing flash (this may take a while)...");let A=new Date;const t=A.getTime(),e=await this.check_command("erase flash",this.ESP_ERASE_FLASH,void 0,void 0,this.CHIP_ERASE_TIMEOUT);A=new Date;const i=A.getTime();return this.info("Chip erase completed successfully in "+(i-t)/1e3+"s"),e}toHex(A){return Array.prototype.map.call(A,(A=>("00"+A.toString(16)).slice(-2))).join("")}async flash_md5sum(A,t){const e=this.timeout_per_mb(this.MD5_TIMEOUT_PER_MB,t);let i=this._appendArray(this._int_to_bytearray(A),this._int_to_bytearray(t));i=this._appendArray(i,this._int_to_bytearray(0)),i=this._appendArray(i,this._int_to_bytearray(0));let s=await this.check_command("calculate md5sum",this.ESP_SPI_FLASH_MD5,i,void 0,e);s instanceof Uint8Array&&s.length>16&&(s=s.slice(0,16));return this.toHex(s)}async run_stub(){this.info("Uploading stub...");let t=atob(this.chip.ROM_TEXT),e=t.split("").map((function(A){return A.charCodeAt(0)}));const i=new Uint8Array(e);t=atob(this.chip.ROM_DATA),e=t.split("").map((function(A){return A.charCodeAt(0)}));const s=new Uint8Array(e);let a,r=Math.floor((i.length+this.ESP_RAM_BLOCK-1)/this.ESP_RAM_BLOCK);for(await this.mem_begin(i.length,r,this.ESP_RAM_BLOCK,this.chip.TEXT_START),a=0;a<r;a++){const A=a*this.ESP_RAM_BLOCK,t=A+this.ESP_RAM_BLOCK;await this.mem_block(i.slice(A,t),a)}for(r=Math.floor((s.length+this.ESP_RAM_BLOCK-1)/this.ESP_RAM_BLOCK),await this.mem_begin(s.length,r,this.ESP_RAM_BLOCK,this.chip.DATA_START),a=0;a<r;a++){const A=a*this.ESP_RAM_BLOCK,t=A+this.ESP_RAM_BLOCK;await this.mem_block(s.slice(A,t),a)}this.info("Running stub..."),await this.mem_finish(this.chip.ENTRY);for(let A=0;A<100;A++){const A=await this.transport.read(1e3,6);if(79===A[0]&&72===A[1]&&65===A[2]&&73===A[3])return this.info("Stub running..."),this.IS_STUB=!0,this.FLASH_WRITE_SIZE=16384,this.chip}throw new A("Failed to start stub. Unexpected response")}async change_baud(){this.info("Changing baudrate to "+this.baudrate);const A=this.IS_STUB?this.transport.baudrate:0,t=this._appendArray(this._int_to_bytearray(this.baudrate),this._int_to_bytearray(A)),e=await this.command(this.ESP_CHANGE_BAUDRATE,t);this.debug(e[0].toString()),this.info("Changed"),await this.transport.disconnect(),await this._sleep(50),await this.transport.connect(this.baudrate);try{await this.transport.rawRead(500)}catch(A){this.debug(A)}}async main_fn(A="default_reset"){await this.detect_chip(A);const t=await this.chip.get_chip_description(this);return this.info("Chip is "+t),this.info("Features: "+await this.chip.get_chip_features(this)),this.info("Crystal is "+await this.chip.get_crystal_freq(this)+"MHz"),this.info("MAC: "+await this.chip.read_mac(this)),await this.chip.read_mac(this),void 0!==this.chip._post_connect&&await this.chip._post_connect(this),await this.run_stub(),await this.change_baud(),t}parse_flash_size_arg(t){if(void 0===this.chip.FLASH_SIZES[t])throw new A("Flash size "+t+" is not supported by this chip type. Supported sizes: "+this.chip.FLASH_SIZES);return this.chip.FLASH_SIZES[t]}_update_image_flash_params(A,t,e,i,s){if(this.debug("_update_image_flash_params "+e+" "+i+" "+s),A.length<8)return A;if(t!=this.chip.BOOTLOADER_FLASH_OFFSET)return A;if("keep"===e&&"keep"===i&&"keep"===s)return this.info("Not changing the image"),A;const a=parseInt(A[0]);let r=parseInt(A[2]);const n=parseInt(A[3]);if(a!==this.ESP_IMAGE_MAGIC)return this.info("Warning: Image file at 0x"+t.toString(16)+" doesn't look like an image file, so not changing any flash settings."),A;if("keep"!==i){r={qio:0,qout:1,dio:2,dout:3}[i]}let h=15&n;if("keep"!==s){h={"40m":0,"26m":1,"20m":2,"80m":15}[s]}let o=240&n;"keep"!==e&&(o=this.parse_flash_size_arg(e));const g=r<<8|h+o;return this.info("Flash params set to "+g.toString(16)),parseInt(A[2])!==r<<8&&(A=A.substring(0,2)+(r<<8).toString()+A.substring(3)),parseInt(A[3])!==h+o&&(A=A.substring(0,3)+(h+o).toString()+A.substring(4)),A}async write_flash(t,e="keep",i="keep",s="keep",a=!1,r=!0,n,h){if(this.debug("EspLoader program"),"keep"!==e){const i=this.flash_size_bytes(e);for(let e=0;e<t.length;e++)if(t[e].data.length+t[e].address>i)throw new A(`File ${e+1} doesn't fit in the available flash`)}let o,g;!0===this.IS_STUB&&!0===a&&await this.erase_flash();for(let a=0;a<t.length;a++){this.debug("Data Length "+t[a].data.length),o=t[a].data;const _=t[a].data.length%4;if(_>0&&(o+="ÿÿÿÿ".substring(4-_)),g=t[a].address,this.debug("Image Length "+o.length),0===o.length){this.debug("Warning: File is empty");continue}let E;o=this._update_image_flash_params(o,g,e,i,s),h&&(E=h(o),this.debug("Image MD5 "+E));const I=o.length;let w;if(r){const A=this.bstrToUi8(o);o=this.ui8ToBstr(Zt(A,{level:9})),w=await this.flash_defl_begin(I,o.length,g)}else w=await this.flash_begin(I,g);let l=0,C=0;const c=o.length;n&&n(a,0,c);let d=new Date;const B=d.getTime();let f=5e3;for(;o.length>0;){this.debug("Write loop "+g+" "+l+" "+w),this.info("Writing at 0x"+(g+l*this.FLASH_WRITE_SIZE).toString(16)+"... ("+Math.floor(100*(l+1)/w)+"%)");const t=this.bstrToUi8(o.slice(0,this.FLASH_WRITE_SIZE));if(!r)throw new A("Yet to handle Non Compressed writes");{const A=5e3;!1===this.IS_STUB&&(f=A),await this.flash_defl_block(t,l,f),this.IS_STUB&&(f=A)}C+=t.length,o=o.slice(this.FLASH_WRITE_SIZE,o.length),l++,n&&n(a,C,c)}this.IS_STUB&&await this.read_reg(this.CHIP_DETECT_MAGIC_REG_ADDR,f),d=new Date;const D=d.getTime()-B;if(r&&this.info("Wrote "+I+" bytes ("+C+" compressed) at 0x"+g.toString(16)+" in "+D/1e3+" seconds."),E){const t=await this.flash_md5sum(g,I);if(new String(t).valueOf()!=new String(E).valueOf())throw this.info("File  md5: "+E),this.info("Flash md5: "+t),new A("MD5 of file does not match data in flash!");this.info("Hash of data verified.")}}this.info("Leaving..."),this.IS_STUB&&(await this.flash_begin(0,0),r?await this.flash_defl_finish():await this.flash_finish())}async flash_id(){this.debug("flash_id");const A=await this.read_flash_id();this.info("Manufacturer: "+(255&A).toString(16));const t=A>>16&255;this.info("Device: "+(A>>8&255).toString(16)+t.toString(16)),this.info("Detected flash size: "+this.DETECTED_FLASH_SIZES[t])}async hard_reset(){await this.transport.setRTS(!0),await this._sleep(100),await this.transport.setRTS(!1)}async soft_reset(){if(this.IS_STUB){if("ESP8266"!=this.chip.CHIP_NAME)throw new A("Soft resetting is currently only supported on ESP8266");await this.command(this.ESP_RUN_USER_CODE,void 0,void 0,!1)}else await this.flash_begin(0,0),await this.flash_finish(!1)}}class qt{constructor(A){this.device=A,this.slip_reader_enabled=!1,this.left_over=new Uint8Array(0),this.baudrate=0,this._DTR_state=!1}get_info(){const A=this.device.getInfo();return A.usbVendorId&&A.usbProductId?`WebSerial VendorID 0x${A.usbVendorId.toString(16)} ProductID 0x${A.usbProductId.toString(16)}`:""}get_pid(){return this.device.getInfo().usbProductId}slip_writer(A){let t=0,e=0,i=0;for(e=0;e<A.length;e++)192!==A[e]&&219!==A[e]||t++;const s=new Uint8Array(2+t+A.length);for(s[0]=192,i=1,e=0;e<A.length;e++,i++)192!==A[e]?219!==A[e]?s[i]=A[e]:(s[i++]=219,s[i]=221):(s[i++]=219,s[i]=220);return s[i]=192,s}async write(A){const t=this.slip_writer(A);if(this.device.writable){const A=this.device.writable.getWriter();await A.write(t),A.releaseLock()}}_appendBuffer(A,t){const e=new Uint8Array(A.byteLength+t.byteLength);return e.set(new Uint8Array(A),0),e.set(new Uint8Array(t),A.byteLength),e.buffer}slip_reader(A){let t=0,e=0,i=0,s="init";for(;t<A.length;)if("init"!==s||192!=A[t]){if("valid_data"===s&&192==A[t]){i=t-1,s="packet_complete";break}t++}else e=t+1,s="valid_data",t++;if("packet_complete"!==s)return this.left_over=A,new Uint8Array(0);this.left_over=A.slice(i+2);const a=new Uint8Array(i-e+1);let r=0;for(t=e;t<=i;t++,r++)219!==A[t]||220!==A[t+1]?219!==A[t]||221!==A[t+1]?a[r]=A[t]:(a[r]=219,t++):(a[r]=192,t++);return a.slice(0,r)}async read(A=0,t=12){let e,i=this.left_over;if(this.left_over=new Uint8Array(0),this.slip_reader_enabled){const A=this.slip_reader(i);if(A.length>0)return A;i=this.left_over,this.left_over=new Uint8Array(0)}if(void 0===this.device.readable)return this.left_over;const s=this.device.readable.getReader();try{A>0&&(e=setTimeout((function(){s.cancel()}),A));do{const{value:A,done:t}=await s.read();if(t)throw this.left_over=i,new Error("Timeout");i=new Uint8Array(this._appendBuffer(i.buffer,A.buffer))}while(i.length<t)}finally{A>0&&clearTimeout(e),s.releaseLock()}return this.slip_reader_enabled?this.slip_reader(i):i}async rawRead(A=0){if(0!=this.left_over.length){const A=this.left_over;return this.left_over=new Uint8Array(0),A}if(!this.device.readable)return this.left_over;const t=this.device.readable.getReader();let e;try{A>0&&(e=setTimeout((function(){t.cancel()}),A));const{value:i,done:s}=await t.read();if(s)throw new Error("Timeout");return i}finally{A>0&&clearTimeout(e),t.releaseLock()}}async setRTS(A){await this.device.setSignals({requestToSend:A}),await this.setDTR(this._DTR_state)}async setDTR(A){this._DTR_state=A,await this.device.setSignals({dataTerminalReady:A})}async connect(A=115200){await this.device.open({baudRate:A}),this.baudrate=A,this.left_over=new Uint8Array(0)}async sleep(A){return new Promise((t=>setTimeout(t,A)))}async waitForUnlock(A){for(;this.device.readable&&this.device.readable.locked||this.device.writable&&this.device.writable.locked;)await this.sleep(A)}async disconnect(){await this.waitForUnlock(400),await this.device.close()}}class jt{get_erase_size(A,t){return t}}var Wt=1074521556,Xt="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",Vt=1074520064,$t="GOv8P9TnC0Bt6AtA7+wLQOnoC0CL6AtA6egLQEXpC0AC6gtAdOoLQB3qC0B95wtAn+kLQPTpC0Bj6QtAluoLQIrpC0CW6gtAWegLQK/oC0Dp6AtARekLQHPoC0BI6wtAr+wLQKHmC0DT7AtAoeYLQKHmC0Ch5gtAoeYLQKHmC0Ch5gtAoeYLQKHmC0Dv6gtAoeYLQMnrC0Cv7AtA",Ae=1073605544;var te=Object.freeze({__proto__:null,ESP32ROM:class extends jt{constructor(){super(...arguments),this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=Vt,this.ENTRY=Wt,this.DATA_START=Ae,this.ROM_DATA=$t,this.ROM_TEXT=Xt}async read_efuse(A,t){const e=this.EFUSE_RD_REG_BASE+4*t;return A.debug("Read efuse "+e),await A.read_reg(e)}async get_pkg_version(A){const t=await this.read_efuse(A,3);let e=t>>9&7;return e+=(t>>2&1)<<3,e}async get_chip_revision(A){const t=await this.read_efuse(A,3),e=await this.read_efuse(A,5),i=await A.read_reg(this.DR_REG_SYSCON_BASE+124);return 0!=(t>>15&1)?0!=(e>>20&1)?0!=(i>>31&1)?3:2:1:0}async get_chip_description(A){const t=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let e="";const i=await this.get_pkg_version(A),s=await this.get_chip_revision(A),a=3==s;return 0!=(1&await this.read_efuse(A,3))&&(t[0]="ESP32-S0WDQ6",t[1]="ESP32-S0WD"),a&&(t[5]="ESP32-PICO-V3"),e=i>=0&&i<=6?t[i]:"Unknown ESP32",!a||0!==i&&1!==i||(e+="-V3"),e+" (revision "+s+")"}async get_chip_features(A){const t=["Wi-Fi"],e=await this.read_efuse(A,3);0===(2&e)&&t.push(" BT");0!==(1&e)?t.push(" Single Core"):t.push(" Dual Core");if(0!==(8192&e)){0!==(4096&e)?t.push(" 160MHz"):t.push(" 240MHz")}const i=await this.get_pkg_version(A);-1!==[2,4,5,6].indexOf(i)&&t.push(" Embedded Flash"),6===i&&t.push(" Embedded PSRAM");0!==(await this.read_efuse(A,4)>>8&31)&&t.push(" VRef calibration in efuse");0!==(e>>14&1)&&t.push(" BLK3 partially reserved");const s=3&await this.read_efuse(A,6);return t.push(" Coding Scheme "+["None","3/4","Repeat (UNSUPPORTED)","Invalid"][s]),t}async get_crystal_freq(A){const t=await A.read_reg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,e=A.transport.baudrate*t/1e6/this.XTAL_CLK_DIVIDER;let i;return i=e>33?40:26,Math.abs(i-e)>1&&A.info("WARNING: Unsupported crystal in use"),i}_d2h(A){const t=(+A).toString(16);return 1===t.length?"0"+t:t}async read_mac(A){let t=await this.read_efuse(A,1);t>>>=0;let e=await this.read_efuse(A,2);e>>>=0;const i=new Uint8Array(6);return i[0]=e>>8&255,i[1]=255&e,i[2]=t>>24&255,i[3]=t>>16&255,i[4]=t>>8&255,i[5]=255&t,this._d2h(i[0])+":"+this._d2h(i[1])+":"+this._d2h(i[2])+":"+this._d2h(i[3])+":"+this._d2h(i[4])+":"+this._d2h(i[5])}}}),ee=1077413538,ie="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",se=1077411840,ae="IGvIP1wKOECsCjhABAs4QKgLOEAUDDhAwgs4QCgJOEBkCzhApAs4QBgLOEDYCDhATAs4QNgIOEA2CjhAfAo4QKwKOEAECzhASAo4QIwJOEC8CThARAo4QGYOOECsCjhALA04QB4OOEAYCDhARg44QBgIOEAYCDhAGAg4QBgIOEAYCDhAGAg4QBgIOEAYCDhAyAw4QBgIOEBKDThAHg44QA==",re=1070164912;var ne=Object.freeze({__proto__:null,ESP32C3ROM:class extends jt{constructor(){super(...arguments),this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=se,this.ENTRY=ee,this.DATA_START=re,this.ROM_DATA=ae,this.ROM_TEXT=ie}async get_pkg_version(A){const t=this.EFUSE_BASE+68+12;return await A.read_reg(t)>>21&7}async get_chip_revision(A){const t=this.EFUSE_BASE+68+12;return(await A.read_reg(t)&7<<18)>>18}async get_chip_description(A){let t;t=0===await this.get_pkg_version(A)?"ESP32-C3":"unknown ESP32-C3";return t+=" (revision "+await this.get_chip_revision(A)+")",t}async get_chip_features(A){return["Wi-Fi"]}async get_crystal_freq(A){return 40}_d2h(A){const t=(+A).toString(16);return 1===t.length?"0"+t:t}async read_mac(A){let t=await A.read_reg(this.MAC_EFUSE_REG);t>>>=0;let e=await A.read_reg(this.MAC_EFUSE_REG+4);e=e>>>0&65535;const i=new Uint8Array(6);return i[0]=e>>8&255,i[1]=255&e,i[2]=t>>24&255,i[3]=t>>16&255,i[4]=t>>8&255,i[5]=255&t,this._d2h(i[0])+":"+this._d2h(i[1])+":"+this._d2h(i[2])+":"+this._d2h(i[3])+":"+this._d2h(i[4])+":"+this._d2h(i[5])}get_erase_size(A,t){return t}}}),he=1077381716,oe="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",ge=1077379072,_e="ZCvKP/KNN0DcjjdAqpM3QGePN0D+jjdAZ483QMaPN0CSkDdABZE3QK2QN0B9jTdAKJA3QISQN0DpjzdAKJE3QBKQN0AokTdAyo43QCmPN0BnjzdAxo83QOKON0C+jTdA6JE3QGOTN0CajDdAiZM3QJqMN0CajDdAmow3QJqMN0CajDdAmow3QJqMN0CajDdAgpE3QJqMN0B9kjdAY5M3QA==",Ee=1070279676;var Ie=Object.freeze({__proto__:null,ESP32S3ROM:class extends jt{constructor(){super(...arguments),this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=ge,this.ENTRY=he,this.DATA_START=Ee,this.ROM_DATA=_e,this.ROM_TEXT=oe}async get_chip_description(A){return"ESP32-S3"}async get_chip_features(A){return["Wi-Fi","BLE"]}async get_crystal_freq(A){return 40}_d2h(A){const t=(+A).toString(16);return 1===t.length?"0"+t:t}async _post_connect(A){const t=255&await A.read_reg(this.UARTDEV_BUF_NO);A.debug("In _post_connect "+t),t==this.UARTDEV_BUF_NO_USB&&(A.ESP_RAM_BLOCK=this.USB_RAM_BLOCK)}async read_mac(A){let t=await A.read_reg(this.MAC_EFUSE_REG);t>>>=0;let e=await A.read_reg(this.MAC_EFUSE_REG+4);e=e>>>0&65535;const i=new Uint8Array(6);return i[0]=e>>8&255,i[1]=255&e,i[2]=t>>24&255,i[3]=t>>16&255,i[4]=t>>8&255,i[5]=255&t,this._d2h(i[0])+":"+this._d2h(i[1])+":"+this._d2h(i[2])+":"+this._d2h(i[3])+":"+this._d2h(i[4])+":"+this._d2h(i[5])}get_erase_size(A,t){return t}}}),we=1073907692,le="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",Ce=1073905664,ce="ZCv9PzKLAkC9iwJAgpACQEaMAkDfiwJARowCQKWMAkBujQJA4Y0CQImNAkC8igJAB40CQGCNAkDIjAJABI4CQPKMAkAEjgJAq4sCQAqMAkBGjAJApYwCQMOLAkD+igJAw44CQDmQAkDUiQJAYZACQNSJAkDUiQJA1IkCQNSJAkDUiQJA1IkCQNSJAkDUiQJAYI4CQNSJAkBVjwJAOZACQA==",de=1073622012;var Be=Object.freeze({__proto__:null,ESP32S2ROM:class extends jt{constructor(){super(...arguments),this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=Ce,this.ENTRY=we,this.DATA_START=de,this.ROM_DATA=ce,this.ROM_TEXT=le}async get_pkg_version(A){const t=this.EFUSE_BASE+68+12;return await A.read_reg(t)>>21&15}async get_chip_description(A){const t=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],e=await this.get_pkg_version(A);return e>=0&&e<=2?t[e]:"unknown ESP32-S2"}async get_chip_features(A){const t=["Wi-Fi"],e=await this.get_pkg_version(A);1==e?t.push("Embedded 2MB Flash"):2==e&&t.push("Embedded 4MB Flash");const i=this.EFUSE_BASE+92+16;return 1==(await A.read_reg(i)>>4&7)&&t.push("ADC and temperature sensor calibration in BLK2 of efuse"),t}async get_crystal_freq(A){return 40}_d2h(A){const t=(+A).toString(16);return 1===t.length?"0"+t:t}async read_mac(A){let t=await A.read_reg(this.MAC_EFUSE_REG);t>>>=0;let e=await A.read_reg(this.MAC_EFUSE_REG+4);e=e>>>0&65535;const i=new Uint8Array(6);return i[0]=e>>8&255,i[1]=255&e,i[2]=t>>24&255,i[3]=t>>16&255,i[4]=t>>8&255,i[5]=255&t,this._d2h(i[0])+":"+this._d2h(i[1])+":"+this._d2h(i[2])+":"+this._d2h(i[3])+":"+this._d2h(i[4])+":"+this._d2h(i[5])}get_erase_size(A,t){return t}}}),fe=1074843652,De="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",Qe=1074843648,Me="CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",Se=1073720488;var ue=Object.freeze({__proto__:null,ESP8266ROM:class extends jt{constructor(){super(...arguments),this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=Qe,this.ENTRY=fe,this.DATA_START=Se,this.ROM_DATA=Me,this.ROM_TEXT=De,this.get_chip_features=async A=>{const t=["WiFi"];return"ESP8285"==await this.get_chip_description(A)&&t.push("Embedded Flash"),t}}async read_efuse(A,t){const e=this.EFUSE_RD_REG_BASE+4*t;return A.debug("Read efuse "+e),await A.read_reg(e)}async get_chip_description(A){const t=await this.read_efuse(A,2);return 0!=(16&await this.read_efuse(A,0)|65536&t)?"ESP8285":"ESP8266EX"}async get_crystal_freq(A){const t=await A.read_reg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,e=A.transport.baudrate*t/1e6/this.XTAL_CLK_DIVIDER;let i;return i=e>33?40:26,Math.abs(i-e)>1&&A.info("WARNING: Detected crystal freq "+e+"MHz is quite different to normalized freq "+i+"MHz. Unsupported crystal in use?"),i}_d2h(A){const t=(+A).toString(16);return 1===t.length?"0"+t:t}async read_mac(A){let t=await this.read_efuse(A,0);t>>>=0;let e=await this.read_efuse(A,1);e>>>=0;let i=await this.read_efuse(A,3);i>>>=0;const s=new Uint8Array(6);return 0!=i?(s[0]=i>>16&255,s[1]=i>>8&255,s[2]=255&i):0==(e>>16&255)?(s[0]=24,s[1]=254,s[2]=52):1==(e>>16&255)?(s[0]=172,s[1]=208,s[2]=116):A.error("Unknown OUI"),s[3]=e>>8&255,s[4]=255&e,s[5]=t>>24&255,this._d2h(s[0])+":"+this._d2h(s[1])+":"+this._d2h(s[2])+":"+this._d2h(s[3])+":"+this._d2h(s[4])+":"+this._d2h(s[5])}get_erase_size(A,t){return t}}});export{Nt as ESPLoader,qt as Transport};
